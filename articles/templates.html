<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Rmd Templates • parsermd</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><script src="templates_files/libs/quarto-html/popper.min.js"></script><script src="templates_files/libs/quarto-html/tippy.umd.min.js"></script><link href="templates_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="templates_files/libs/quarto-html/light-border.css" rel="stylesheet">
<!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Rmd Templates">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="default" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">parsermd</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.2.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="../index.html" aria-label="Home"><span class="fa fa-home fa-lg"></span></a></li>
<li class="nav-item"><a class="nav-link" href="../articles/parsermd.html">Getting Started</a></li>
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="active nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><a class="dropdown-item" href="../articles/editing-documents.html">Modifying Rmd and Quarto Documents</a></li>
    <li><a class="dropdown-item" href="../articles/templates.html">Rmd Templates</a></li>
    <li><a class="dropdown-item" href="../articles/know-your-nodes.html">Know Your Nodes</a></li>
    <li><a class="dropdown-item" href="../articles/assignment-with-key.html">Example - Assignment with Key</a></li>
  </ul>
</li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">News</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json">
</form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/rundel/parsermd/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-quarto">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Rmd Templates</h1>




      <small class="dont-index">Source: <a href="https://github.com/rundel/parsermd/blob/v0.2.0/vignettes/templates.qmd" class="external-link"><code>vignettes/templates.qmd</code></a></small>
      <div class="d-none name"><code></code></div>
    </div>






    <p>In the getting started vignette we introduced a variety of predicate functions for interrogating the contents of a parsed R Markdown document. The family of <code>rmd_has_*</code> functions give a convenient way of checking explicitly for elements of an Rmd, however often we want to check for multiple elements at the same time and provide consistent output for any detected discrepancies.</p>
<p>To support this type of workflow, <code>parsermd</code> implements the concept of an Rmd template. These are tibble based representations of Rmd elements which can be easily be compared with a parsed document.</p>
<section class="level2"><h2 id="example---hw01">Example - <code>hw01</code>
<a class="anchor" aria-label="anchor" href="#example---hw01"></a>
</h2>
<p>Imagine that a homework assignment has been distributed to students in the form of an Rmd document named <code>hw01.Rmd</code>. This document describes all of the necessary tasks for the student to complete and also includes scaffolding in the form of Rmd chunks and markdown that indicates where the students are expected to include their solutions.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="op">(</span><span class="va">rmd</span> <span class="op">=</span> <span class="fu"><a href="../reference/parse_rmd.html">parse_rmd</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span><span class="st">"examples/hw01.Rmd"</span>, package <span class="op">=</span> <span class="st">"parsermd"</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; ├── YAML [2 fields]</span></span>
<span><span class="co">#&gt; ├── Heading [h3] - Load packages</span></span>
<span><span class="co">#&gt; │   └── Chunk [r, 2 lines] - load-packages</span></span>
<span><span class="co">#&gt; ├── Heading [h3] - Exercise 1</span></span>
<span><span class="co">#&gt; │   ├── Markdown [1 line]</span></span>
<span><span class="co">#&gt; │   └── Heading [h4] - Solution</span></span>
<span><span class="co">#&gt; │       └── Markdown [1 line]</span></span>
<span><span class="co">#&gt; ├── Heading [h3] - Exercise 2</span></span>
<span><span class="co">#&gt; │   ├── Markdown [1 line]</span></span>
<span><span class="co">#&gt; │   └── Heading [h4] - Solution</span></span>
<span><span class="co">#&gt; │       ├── Markdown [3 lines]</span></span>
<span><span class="co">#&gt; │       ├── Chunk [r, 5 lines] - plot-dino</span></span>
<span><span class="co">#&gt; │       ├── Markdown [1 line]</span></span>
<span><span class="co">#&gt; │       └── Chunk [r, 2 lines] - cor-dino</span></span>
<span><span class="co">#&gt; └── Heading [h3] - Exercise 3</span></span>
<span><span class="co">#&gt;     ├── Markdown [1 line]</span></span>
<span><span class="co">#&gt;     └── Heading [h4] - Solution</span></span>
<span><span class="co">#&gt;         ├── Markdown [3 lines]</span></span>
<span><span class="co">#&gt;         ├── Chunk [r, 1 line] - plot-star</span></span>
<span><span class="co">#&gt;         ├── Markdown [1 line]</span></span>
<span><span class="co">#&gt;         └── Chunk [r, 1 line] - cor-star</span></span></code></pre></div>
</div>
<p>We can see examples of this templating by extracting the contents of the markdown in the Exercise 1 &gt; Solution section.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/rmd_select.html">rmd_select</a></span><span class="op">(</span></span>
<span>  <span class="va">rmd</span>, </span>
<span>  <span class="fu"><a href="../reference/rmd_select_helpers.html">by_section</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Exercise 1"</span>, <span class="st">"Solution"</span><span class="op">)</span><span class="op">)</span> <span class="op">&amp;</span> </span>
<span>  <span class="fu"><a href="../reference/rmd_select_helpers.html">has_type</a></span><span class="op">(</span><span class="st">"rmd_markdown"</span><span class="op">)</span></span>
<span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="../reference/as_document.html">as_document</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] "---"                                                                              </span></span>
<span><span class="co">#&gt; [2] "title: Homework 01 - Hello R"                                                     </span></span>
<span><span class="co">#&gt; [3] "output: html_document"                                                            </span></span>
<span><span class="co">#&gt; [4] "---"                                                                              </span></span>
<span><span class="co">#&gt; [5] ""                                                                                 </span></span>
<span><span class="co">#&gt; [6] "(Type your answer to Exercise 1 here. This exercise does not require any R code.)"</span></span>
<span><span class="co">#&gt; [7] ""                                                                                 </span></span>
<span><span class="co">#&gt; [8] ""</span></span></code></pre></div>
</div>
<p>When a student completes this assignment we want to be able to check that they have included solutions in the appropriate sections. At a minimum this means that we need to check that these sections still exist, and secondarily we might also want to check that the provided content in the solution differs from the provided scaffolding.</p>
<section class="level3"><h3 id="constructing-a-template">Constructing a template<a class="anchor" aria-label="anchor" href="#constructing-a-template"></a>
</h3>
<p>We will begin by subsetting the original parsed document to select only the elements that will contain the student’s answers - this assumes the other sections and elements are extraneous and contain things like background, instructions, and question text. Below we use <code>rmd_select</code> to select all of the elements of the original document contained withing a section matching “Exercise *” and “Solution” which should cover the answers for all three exercises.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="op">(</span><span class="va">rmd_sols</span> <span class="op">=</span> <span class="fu"><a href="../reference/rmd_select.html">rmd_select</a></span><span class="op">(</span><span class="va">rmd</span>, <span class="fu"><a href="../reference/rmd_select_helpers.html">by_section</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Exercise *"</span>, <span class="st">"Solution"</span><span class="op">)</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; ├── YAML [2 fields]</span></span>
<span><span class="co">#&gt; ├── Heading [h3] - Exercise 1</span></span>
<span><span class="co">#&gt; │   └── Heading [h4] - Solution</span></span>
<span><span class="co">#&gt; │       └── Markdown [1 line]</span></span>
<span><span class="co">#&gt; ├── Heading [h3] - Exercise 2</span></span>
<span><span class="co">#&gt; │   └── Heading [h4] - Solution</span></span>
<span><span class="co">#&gt; │       ├── Markdown [3 lines]</span></span>
<span><span class="co">#&gt; │       ├── Chunk [r, 5 lines] - plot-dino</span></span>
<span><span class="co">#&gt; │       ├── Markdown [1 line]</span></span>
<span><span class="co">#&gt; │       └── Chunk [r, 2 lines] - cor-dino</span></span>
<span><span class="co">#&gt; └── Heading [h3] - Exercise 3</span></span>
<span><span class="co">#&gt;     └── Heading [h4] - Solution</span></span>
<span><span class="co">#&gt;         ├── Markdown [3 lines]</span></span>
<span><span class="co">#&gt;         ├── Chunk [r, 1 line] - plot-star</span></span>
<span><span class="co">#&gt;         ├── Markdown [1 line]</span></span>
<span><span class="co">#&gt;         └── Chunk [r, 1 line] - cor-star</span></span></code></pre></div>
</div>
<p>One we have this more limited set of elements we use the <code>rmd_template</code> function to generate our template. Here we have included <code>keep_content  = TRUE</code> in order to keep the scaffolded content for each answer which will then be compared to the student’s answers.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="op">(</span><span class="va">rmd_tmpl</span> <span class="op">=</span> <span class="fu"><a href="../reference/rmd_template.html">rmd_template</a></span><span class="op">(</span><span class="va">rmd_sols</span>, keep_content <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; # A tibble: 9 × 5</span></span>
<span><span class="co">#&gt;   sec_h3     sec_h4   type         label     content  </span></span>
<span><span class="co">#&gt;   &lt;chr&gt;      &lt;chr&gt;    &lt;chr&gt;        &lt;chr&gt;     &lt;list&gt;   </span></span>
<span><span class="co">#&gt; 1 Exercise 1 Solution rmd_markdown &lt;NA&gt;      &lt;chr [1]&gt;</span></span>
<span><span class="co">#&gt; 2 Exercise 2 Solution rmd_markdown &lt;NA&gt;      &lt;chr [3]&gt;</span></span>
<span><span class="co">#&gt; 3 Exercise 2 Solution rmd_chunk    plot-dino &lt;chr [5]&gt;</span></span>
<span><span class="co">#&gt; 4 Exercise 2 Solution rmd_markdown &lt;NA&gt;      &lt;chr [1]&gt;</span></span>
<span><span class="co">#&gt; 5 Exercise 2 Solution rmd_chunk    cor-dino  &lt;chr [2]&gt;</span></span>
<span><span class="co">#&gt; 6 Exercise 3 Solution rmd_markdown &lt;NA&gt;      &lt;chr [3]&gt;</span></span>
<span><span class="co">#&gt; 7 Exercise 3 Solution rmd_chunk    plot-star &lt;chr [1]&gt;</span></span>
<span><span class="co">#&gt; 8 Exercise 3 Solution rmd_markdown &lt;NA&gt;      &lt;chr [1]&gt;</span></span>
<span><span class="co">#&gt; 9 Exercise 3 Solution rmd_chunk    cor-star  &lt;chr [1]&gt;</span></span></code></pre></div>
</div>
</section><section class="level3"><h3 id="using-a-template">Using a template<a class="anchor" aria-label="anchor" href="#using-a-template"></a>
</h3>
<p>One the template is constructed we can then compare it with a new Rmd document via the <code>rmd_check_template</code> function. Note that we can pass in an <code>rmd_ast</code> or <code>rmd_tibble</code> object directly, or the path to an Rmd which will then be parsed and compared.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">file</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span><span class="st">"examples/hw01-student.Rmd"</span>, package <span class="op">=</span> <span class="st">"parsermd"</span><span class="op">)</span></span>
<span><span class="fu"><a href="../reference/rmd_check_template.html">rmd_check_template</a></span><span class="op">(</span><span class="va">file</span>, <span class="va">rmd_tmpl</span><span class="op">)</span></span>
<span><span class="co">#&gt; ✖ The following required elements were missing in the document:</span></span>
<span><span class="co">#&gt;   • Section "Exercise 3" &gt; "Solution" is missing required "markdown text".</span></span>
<span><span class="co">#&gt;   • Section "Exercise 3" &gt; "Solution" is missing required "markdown text".</span></span>
<span><span class="co">#&gt; ✖ The following document elements were unmodified from the template:</span></span>
<span><span class="co">#&gt;   • Section "Exercise 2" &gt; "Solution" has a "code chunk" named "plot-dino"</span></span>
<span><span class="co">#&gt;     which has not been modified.</span></span>
<span><span class="co">#&gt;   • Section "Exercise 2" &gt; "Solution" has "markdown text" which has not been</span></span>
<span><span class="co">#&gt;     modified.</span></span>
<span><span class="co">#&gt;   • Section "Exercise 2" &gt; "Solution" has a "code chunk" named "cor-dino"</span></span>
<span><span class="co">#&gt;     which has not been modified.</span></span></code></pre></div>
</div>
<p>From the output we can see that there are several issues with the document submitted by the student, they are missing the two expected markdown text entries for Exercise 3 and it appears that they have not entered any thing new for the chunks or markdown in Exercise 2.</p>
</section><section class="level3"><h3 id="revising-a-template">Revising a template<a class="anchor" aria-label="anchor" href="#revising-a-template"></a>
</h3>
<p>Let assume that our original template was a bit too strict, and we would like to revise the feedback it is giving to students.</p>
<p>If we were to decide that for Exercise 3 the markdown text was not actually necessary, we can remove this requirement by filtering those elements from <code>rmd_sols</code> or from <code>rmd_tmpl</code>. (Generally, the former is the suggested workflow and will always work, while the later approach is likely to be somewhat fragile to any changes made to the template format in future releases.) Here we use <code>rmd_select</code> with the <code>!</code> operator to remove these specific markdown elements.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">rmd_sols</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="../reference/rmd_select.html">rmd_select</a></span><span class="op">(</span> </span>
<span>    <span class="op">!</span><span class="op">(</span><span class="fu"><a href="../reference/rmd_select_helpers.html">by_section</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Exercise 3"</span>, <span class="st">"Solution"</span><span class="op">)</span><span class="op">)</span> <span class="op">&amp;</span> </span>
<span>    <span class="fu"><a href="../reference/rmd_select_helpers.html">has_type</a></span><span class="op">(</span><span class="st">"rmd_markdown"</span><span class="op">)</span><span class="op">)</span> </span>
<span>  <span class="op">)</span></span>
<span><span class="co">#&gt; ├── YAML [2 fields]</span></span>
<span><span class="co">#&gt; ├── Heading [h3] - Exercise 1</span></span>
<span><span class="co">#&gt; │   └── Heading [h4] - Solution</span></span>
<span><span class="co">#&gt; │       └── Markdown [1 line]</span></span>
<span><span class="co">#&gt; ├── Heading [h3] - Exercise 2</span></span>
<span><span class="co">#&gt; │   └── Heading [h4] - Solution</span></span>
<span><span class="co">#&gt; │       ├── Markdown [3 lines]</span></span>
<span><span class="co">#&gt; │       ├── Chunk [r, 5 lines] - plot-dino</span></span>
<span><span class="co">#&gt; │       ├── Markdown [1 line]</span></span>
<span><span class="co">#&gt; │       └── Chunk [r, 2 lines] - cor-dino</span></span>
<span><span class="co">#&gt; └── Heading [h3] - Exercise 3</span></span>
<span><span class="co">#&gt;     └── Heading [h4] - Solution</span></span>
<span><span class="co">#&gt;         ├── Chunk [r, 1 line] - plot-star</span></span>
<span><span class="co">#&gt;         └── Chunk [r, 1 line] - cor-star</span></span></code></pre></div>
</div>
<p>This new AST can then be passed to <code>rmd_template</code> and <code>rmd_check_template</code> to provide the revised feedback,</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">file</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span><span class="st">"examples/hw01-student.Rmd"</span>, package <span class="op">=</span> <span class="st">"parsermd"</span><span class="op">)</span></span>
<span><span class="va">rmd_sols</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="../reference/rmd_select.html">rmd_select</a></span><span class="op">(</span> </span>
<span>    <span class="op">!</span><span class="op">(</span><span class="fu"><a href="../reference/rmd_select_helpers.html">by_section</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Exercise 3"</span>, <span class="st">"Solution"</span><span class="op">)</span><span class="op">)</span> <span class="op">&amp;</span> </span>
<span>    <span class="fu"><a href="../reference/rmd_select_helpers.html">has_type</a></span><span class="op">(</span><span class="st">"rmd_markdown"</span><span class="op">)</span><span class="op">)</span> </span>
<span>  <span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="../reference/rmd_template.html">rmd_template</a></span><span class="op">(</span>keep_content <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="../reference/rmd_check_template.html">rmd_check_template</a></span><span class="op">(</span><span class="va">file</span>, template <span class="op">=</span> <span class="va">_</span><span class="op">)</span></span>
<span><span class="co">#&gt; ✖ The following document elements were unmodified from the template:</span></span>
<span><span class="co">#&gt;   • Section "Exercise 2" &gt; "Solution" has a "code chunk" named "plot-dino"</span></span>
<span><span class="co">#&gt;     which has not been modified.</span></span>
<span><span class="co">#&gt;   • Section "Exercise 2" &gt; "Solution" has "markdown text" which has not been</span></span>
<span><span class="co">#&gt;     modified.</span></span>
<span><span class="co">#&gt;   • Section "Exercise 2" &gt; "Solution" has a "code chunk" named "cor-dino"</span></span>
<span><span class="co">#&gt;     which has not been modified.</span></span></code></pre></div>
</div>
</section></section><script id="quarto-html-after-body" type="application/javascript">
  window.document.addEventListener("DOMContentLoaded", function (event) {
      var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var mailtoRegex = new RegExp(/^mailto:/);
        var filterRegex = new RegExp('/' + window.location.host + '/');
      var isInternal = (href) => {
          return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
      }
      // Inspect non-navigation links and adorn them if external
     var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
      for (var i=0; i<links.length; i++) {
        const link = links[i];
        if (!isInternal(link.href)) {
          // undo the damage that might have been done by quarto-nav.js in the case of
          // links that we want to consider external
          if (link.dataset.originalHref !== undefined) {
            link.href = link.dataset.originalHref;
          }
        }
      }
    function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
      const config = {
        allowHTML: true,
        maxWidth: 500,
        delay: 100,
        arrow: false,
        appendTo: function(el) {
            return el.parentElement;
        },
        interactive: true,
        interactiveBorder: 10,
        theme: 'light-border',
        placement: 'bottom-start',
      };
      if (contentFn) {
        config.content = contentFn;
      }
      if (onTriggerFn) {
        config.onTrigger = onTriggerFn;
      }
      if (onUntriggerFn) {
        config.onUntrigger = onUntriggerFn;
      }
      window.tippy(el, config);
    }
    const findCites = (el) => {
      const parentEl = el.parentElement;
      if (parentEl) {
        const cites = parentEl.dataset.cites;
        if (cites) {
          return {
            el,
            cites: cites.split(' ')
          };
        } else {
          return findCites(el.parentElement)
        }
      } else {
        return undefined;
      }
    };
    var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
    for (var i=0; i<bibliorefs.length; i++) {
      const ref = bibliorefs[i];
      const citeInfo = findCites(ref);
      if (citeInfo) {
        tippyHover(citeInfo.el, function() {
          var popup = window.document.createElement('div');
          citeInfo.cites.forEach(function(cite) {
            var citeDiv = window.document.createElement('div');
            citeDiv.classList.add('hanging-indent');
            citeDiv.classList.add('csl-entry');
            var biblioDiv = window.document.getElementById('ref-' + cite);
            if (biblioDiv) {
              citeDiv.innerHTML = biblioDiv.innerHTML;
            }
            popup.appendChild(citeDiv);
          });
          return popup.innerHTML;
        });
      }
    }
  });
  </script></main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Colin Rundel.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

    </footer>
</div>





  </body>
</html>
