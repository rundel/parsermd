<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Know your nodes • parsermd</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><script src="know-your-nodes_files/libs/quarto-html/popper.min.js"></script><script src="know-your-nodes_files/libs/quarto-html/tippy.umd.min.js"></script><link href="know-your-nodes_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="know-your-nodes_files/libs/quarto-html/light-border.css" rel="stylesheet">
<!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Know your nodes">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="default" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">parsermd</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.2.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="../index.html" aria-label="Home"><span class="fa fa-home fa-lg"></span></a></li>
<li class="nav-item"><a class="nav-link" href="../articles/parsermd.html">Getting Started</a></li>
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="active nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><a class="dropdown-item" href="../articles/templates.html">Rmd Templates</a></li>
    <li><a class="dropdown-item" href="../articles/know-your-nodes.html">Know Your Nodes</a></li>
    <li><a class="dropdown-item" href="../articles/assignment-with-key.html">Example - Assignment with Key</a></li>
  </ul>
</li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">News</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json">
</form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/rundel/parsermd/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-quarto">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Know your nodes</h1>




      <small class="dont-index">Source: <a href="https://github.com/rundel/parsermd/blob/main/vignettes/know-your-nodes.qmd" class="external-link"><code>vignettes/know-your-nodes.qmd</code></a></small>
      <div class="d-none name"><code></code></div>
    </div>






    <section class="section level2"><h2 id="introduction">Introduction<a class="anchor" aria-label="anchor" href="#introduction"></a>
</h2>
<p>The parsermd package parses R Markdown and Quarto documents into an Abstract Syntax Tree (AST) representation. This vignette introduces the different types of AST nodes and their properties, helping you understand how parsermd represents document structure.</p>
<section class="level2"><h3 id="ast-container---rmd_ast">AST Container - <code>rmd_ast</code>
<a class="anchor" aria-label="anchor" href="#ast-container---rmd_ast"></a>
</h3>
<p>The <code>rmd_ast</code> object serves as the container for all parsed document nodes. It holds a linear sequence of nodes representing different document elements, where each node type corresponds to a specific R Markdown or Quarto construct (headings, code chunks, text, etc.).</p>
<p><strong>Important</strong>: The AST represents documents as a linear sequence of nodes, not a nested tree structure. This means that structural elements like fenced divs are represented as separate opening and closing nodes in the sequence, rather than as nodes with children.</p>
<p>The default print method for <code>rmd_ast</code>’s (<code>flat = FALSE</code>) presents an implicit tree structure based on heading levels. This provides a hierarchical view that reflects the document’s logical organization, where content is grouped under headings based on their level.</p>
<p><strong>Properties:</strong></p>
<ul>
<li>
<code>nodes</code>: A list containing all the parsed nodes in document order</li>
</ul>
<p><strong>Example:</strong></p>
<p>Raw text that would be parsed:</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode markdown"><code class="sourceCode markdown"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="co">---</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="an">title:</span><span class="co"> "Example Document"</span></span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="co">---</span></span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a><span class="fu"># Introduction</span></span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a>This is some text.</span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb1-10"><a href="#cb1-10" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">5</span></span>
<span id="cb1-11"><a href="#cb1-11" aria-hidden="true" tabindex="-1"></a><span class="fu">mean</span>(x)</span>
<span id="cb1-12"><a href="#cb1-12" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span></code></pre></div>
<p>This would create an <code>rmd_ast</code> object containing:</p>
<ol type="1">
<li>
<code>rmd_yaml</code> node with the title</li>
<li>
<code>rmd_heading</code> node with “Introduction”</li>
<li>
<code>rmd_markdown</code> node with “This is some text.”</li>
<li>
<code>rmd_chunk</code> node with the R code</li>
</ol>
<p>Programmatic creation:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">ast</span> <span class="op">=</span> <span class="fu"><a href="../reference/rmd_ast.html">rmd_ast</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>  <span class="fu"><a href="../reference/rmd_yaml.html">rmd_yaml</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>title <span class="op">=</span> <span class="st">"Example Document"</span><span class="op">)</span><span class="op">)</span>,</span>
<span>  <span class="fu"><a href="../reference/rmd_heading.html">rmd_heading</a></span><span class="op">(</span>name <span class="op">=</span> <span class="st">"Introduction"</span>, level <span class="op">=</span> <span class="fl">1L</span><span class="op">)</span>,</span>
<span>  <span class="fu"><a href="../reference/rmd_markdown.html">rmd_markdown</a></span><span class="op">(</span>lines <span class="op">=</span> <span class="st">"This is some text."</span><span class="op">)</span>,</span>
<span>  <span class="fu"><a href="../reference/rmd_chunk.html">rmd_chunk</a></span><span class="op">(</span></span>
<span>    engine <span class="op">=</span> <span class="st">"r"</span>,</span>
<span>    code <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"x &lt;- 1:5"</span>, <span class="st">"mean(x)"</span><span class="op">)</span></span>
<span>  <span class="op">)</span></span>
<span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="columns">
<div class="column" style="width:50%;">
<p><strong>Hierarchical view (<code>flat = FALSE</code>):</strong></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">ast</span>, flat <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span>
<span><span class="co">#&gt; ├── YAML [1 field]</span></span>
<span><span class="co">#&gt; └── Heading [h1] - Introduction</span></span>
<span><span class="co">#&gt;     ├── Markdown [1 line]</span></span>
<span><span class="co">#&gt;     └── Chunk [r, 2 lines] -</span></span></code></pre></div>
</div>
</div>
<div class="column" style="width:50%;">
<p><strong>Linear view (<code>flat = TRUE</code>):</strong></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">ast</span>, flat <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span><span class="co">#&gt; ├── YAML [1 field]</span></span>
<span><span class="co">#&gt; ├── Heading [h1] - Introduction</span></span>
<span><span class="co">#&gt; ├── Markdown [1 line]</span></span>
<span><span class="co">#&gt; └── Chunk [r, 2 lines] -</span></span></code></pre></div>
</div>
</div>
</div>
<hr></section></section><section class="section level2"><h2 id="core-node-types">Core Node Types<a class="anchor" aria-label="anchor" href="#core-node-types"></a>
</h2>
<section class="level2"><h3 id="document-structure-nodes">Document Structure Nodes<a class="anchor" aria-label="anchor" href="#document-structure-nodes"></a>
</h3>
<section class="level3"><h4 id="yaml-header---rmd_yaml">YAML Header - <code>rmd_yaml</code>
<a class="anchor" aria-label="anchor" href="#yaml-header---rmd_yaml"></a>
</h4>
<p>The <code>rmd_yaml</code> node represents YAML front matter at the beginning of documents.</p>
<p><strong>Properties:</strong></p>
<ul>
<li>
<code>yaml</code>: List containing the parsed YAML content</li>
</ul>
<p><strong>Example:</strong></p>
<p>Raw text that would be parsed:</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode yaml"><code class="sourceCode yaml"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="pp">---</span></span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a><span class="fu">title</span><span class="kw">:</span><span class="at"> </span><span class="st">"My Document"</span></span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a><span class="fu">author</span><span class="kw">:</span><span class="at"> </span><span class="st">"John Doe"</span></span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a><span class="fu">date</span><span class="kw">:</span><span class="at"> </span><span class="st">"2023-01-01"</span></span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true" tabindex="-1"></a><span class="pp">---</span></span></code></pre></div>
<p>Programmatic creation:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">yaml_node</span> <span class="op">=</span> <span class="fu"><a href="../reference/rmd_yaml.html">rmd_yaml</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>  title <span class="op">=</span> <span class="st">"My Document"</span>,</span>
<span>  author <span class="op">=</span> <span class="st">"John Doe"</span>,</span>
<span>  date <span class="op">=</span> <span class="st">"2023-01-01"</span></span>
<span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">yaml_node</span></span>
<span><span class="co">#&gt; &lt;rmd_yaml&gt;</span></span>
<span><span class="co">#&gt;  @ yaml:List of 3</span></span>
<span><span class="co">#&gt;  .. $ title : chr "My Document"</span></span>
<span><span class="co">#&gt;  .. $ author: chr "John Doe"</span></span>
<span><span class="co">#&gt;  .. $ date  : chr "2023-01-01"</span></span></code></pre></div>
</div>
<hr></section><section class="level3"><h4 id="markdown-headings---rmd_heading">Markdown Headings - <code>rmd_heading</code>
<a class="anchor" aria-label="anchor" href="#markdown-headings---rmd_heading"></a>
</h4>
<p>The <code>rmd_heading</code> node represents section headings in markdown.</p>
<p><strong>Properties:</strong></p>
<ul>
<li>
<code>name</code>: Character string containing the heading text</li>
<li>
<code>level</code>: Integer from 1-6 indicating the heading level (# = 1, ## = 2, etc.)</li>
</ul>
<p><strong>Example:</strong></p>
<p>Raw text that would be parsed:</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode markdown"><code class="sourceCode markdown"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="fu"># Introduction</span></span></code></pre></div>
<p>Programmatic creation:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">heading_node</span> <span class="op">=</span> <span class="fu"><a href="../reference/rmd_heading.html">rmd_heading</a></span><span class="op">(</span></span>
<span>  name <span class="op">=</span> <span class="st">"Introduction"</span>, </span>
<span>  level <span class="op">=</span> <span class="fl">1L</span></span>
<span><span class="op">)</span></span>
<span><span class="va">heading_node</span></span>
<span><span class="co">#&gt; &lt;rmd_heading&gt;</span></span>
<span><span class="co">#&gt;  @ name : chr "Introduction"</span></span>
<span><span class="co">#&gt;  @ level: int 1</span></span></code></pre></div>
</div>
<hr></section><section class="level3"><h4 id="markdown-text---rmd_markdown">Markdown Text - <code>rmd_markdown</code>
<a class="anchor" aria-label="anchor" href="#markdown-text---rmd_markdown"></a>
</h4>
<p>The <code>rmd_markdown</code> node represents plain markdown text content.</p>
<p><strong>Properties:</strong></p>
<ul>
<li>
<code>lines</code>: Character vector containing the markdown text lines</li>
</ul>
<p><strong>Example:</strong></p>
<p>Raw text that would be parsed:</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode markdown"><code class="sourceCode markdown"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a>This is a paragraph.</span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a>With multiple lines.</span></code></pre></div>
<p>Programmatic creation:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">markdown_node</span> <span class="op">=</span> <span class="fu"><a href="../reference/rmd_markdown.html">rmd_markdown</a></span><span class="op">(</span></span>
<span>  lines <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"This is a paragraph."</span>, <span class="st">"With multiple lines."</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span><span class="va">markdown_node</span></span>
<span><span class="co">#&gt; &lt;rmd_markdown&gt;</span></span>
<span><span class="co">#&gt;  @ lines: chr [1:2] "This is a paragraph." "With multiple lines."</span></span></code></pre></div>
</div>
<hr></section></section><section class="level2"><h3 id="code-and-execution-nodes">Code and Execution Nodes<a class="anchor" aria-label="anchor" href="#code-and-execution-nodes"></a>
</h3>
<section class="level3"><h4 id="executable-code-chunks---rmd_chunk">Executable Code Chunks - <code>rmd_chunk</code>
<a class="anchor" aria-label="anchor" href="#executable-code-chunks---rmd_chunk"></a>
</h4>
<p>The <code>rmd_chunk</code> node represents executable code chunks with options and metadata.</p>
<p><strong>Properties:</strong></p>
<ul>
<li>
<code>engine</code>: The code engine (default: “r”)</li>
<li>
<code>name</code>: Optional chunk name/label</li>
<li>
<code>options</code>: List of chunk options containing both traditional and YAML options</li>
<li>
<code>code</code>: Character vector containing the code lines</li>
<li>
<code>indent</code>: Indentation string</li>
<li>
<code>n_ticks</code>: Number of backticks used (default: 3)</li>
</ul>
<p><strong>Chunk Option Formats:</strong></p>
<p>Chunks support two option formats that can be used independently or together:</p>
<ol type="1">
<li><p><strong>Traditional format</strong>: Options specified in the chunk header after the engine and label ```markdown</p></li>
<li><p><strong>YAML format</strong>: Options specified as YAML comments within the chunk ```markdown</p></li>
</ol>
<p><strong>Option Conflict Resolution:</strong></p>
<p>When the same option is specified in both formats, YAML options take precedence over traditional options. A warning is emitted when conflicts occur:</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode markdown"><code class="sourceCode markdown"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a>::: {.cell}</span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-4"><a href="#cb11-4" aria-hidden="true" tabindex="-1"></a>:::</span></code></pre></div>
<p>In this case, <code>eval: false</code> (YAML) wins over <code>eval=TRUE</code> (traditional), and the parser emits: “YAML options override traditional options for: eval”</p>
<p><strong>Type Handling:</strong></p>
<ul>
<li>
<strong>Traditional options</strong>: Always stored as strings (e.g., <code>"TRUE"</code>, <code>"5"</code>)</li>
<li>
<strong>YAML options</strong>: Preserve proper R types (e.g., <code>TRUE</code>, <code>5L</code>, <code>3.14</code>)</li>
</ul>
<p><strong>Examples:</strong></p>
<p><strong>Traditional format chunk:</strong></p>
<div class="sourceCode" id="cb12"><pre class="sourceCode markdown"><code class="sourceCode markdown"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="in">```{r example, eval=TRUE, echo=FALSE}</span></span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">10</span></span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true" tabindex="-1"></a><span class="fu">mean</span>(x)</span>
<span id="cb12-4"><a href="#cb12-4" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span></code></pre></div>
<p><strong>YAML format chunk:</strong></p>
<div class="sourceCode" id="cb13"><pre class="sourceCode markdown"><code class="sourceCode markdown"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="in">```{r example}</span></span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a><span class="co">#| eval: true</span></span>
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true" tabindex="-1"></a><span class="co">#| echo: false</span></span>
<span id="cb13-4"><a href="#cb13-4" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">10</span></span>
<span id="cb13-5"><a href="#cb13-5" aria-hidden="true" tabindex="-1"></a><span class="fu">mean</span>(x)</span>
<span id="cb13-6"><a href="#cb13-6" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span></code></pre></div>
<p><strong>Mixed format chunk (with conflict):</strong></p>
<div class="sourceCode" id="cb14"><pre class="sourceCode markdown"><code class="sourceCode markdown"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="in">```{r example, eval=TRUE}</span></span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a><span class="co">#| eval: false</span></span>
<span id="cb14-3"><a href="#cb14-3" aria-hidden="true" tabindex="-1"></a><span class="co">#| message: false</span></span>
<span id="cb14-4"><a href="#cb14-4" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">10</span></span>
<span id="cb14-5"><a href="#cb14-5" aria-hidden="true" tabindex="-1"></a><span class="fu">mean</span>(x)</span>
<span id="cb14-6"><a href="#cb14-6" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span></code></pre></div>
<p>In this case, <code>eval: false</code> (YAML) overrides <code>eval=TRUE</code> (traditional).</p>
<p><strong>Programmatic creation:</strong></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb15"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Traditional-style options</span></span>
<span><span class="va">chunk_node_traditional</span> <span class="op">=</span> <span class="fu"><a href="../reference/rmd_chunk.html">rmd_chunk</a></span><span class="op">(</span></span>
<span>  engine <span class="op">=</span> <span class="st">"r"</span>,</span>
<span>  name <span class="op">=</span> <span class="st">"example"</span>,</span>
<span>  options <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>eval <span class="op">=</span> <span class="st">"TRUE"</span>, echo <span class="op">=</span> <span class="st">"FALSE"</span><span class="op">)</span>,</span>
<span>  code <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"x &lt;- 1:10"</span>, <span class="st">"mean(x)"</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># YAML-style options with proper types</span></span>
<span><span class="va">chunk_node_yaml</span> <span class="op">=</span> <span class="fu"><a href="../reference/rmd_chunk.html">rmd_chunk</a></span><span class="op">(</span></span>
<span>  engine <span class="op">=</span> <span class="st">"r"</span>,</span>
<span>  name <span class="op">=</span> <span class="st">"example"</span>,</span>
<span>  options <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>eval <span class="op">=</span> <span class="cn">TRUE</span>, echo <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span>,</span>
<span>  code <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"x &lt;- 1:10"</span>, <span class="st">"mean(x)"</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="va">chunk_node_yaml</span></span>
<span><span class="co">#&gt; &lt;rmd_chunk&gt;</span></span>
<span><span class="co">#&gt;  @ engine : chr "r"</span></span>
<span><span class="co">#&gt;  @ name   : chr "example"</span></span>
<span><span class="co">#&gt;  @ options:List of 2</span></span>
<span><span class="co">#&gt;  .. $ eval: logi TRUE</span></span>
<span><span class="co">#&gt;  .. $ echo: logi FALSE</span></span>
<span><span class="co">#&gt;  @ code   : chr [1:2] "x &lt;- 1:10" "mean(x)"</span></span>
<span><span class="co">#&gt;  @ indent : chr ""</span></span>
<span><span class="co">#&gt;  @ n_ticks: int 3</span></span></code></pre></div>
</div>
<hr></section><section class="level3"><h4 id="raw-output-chunks---rmd_raw_chunk">Raw Output Chunks - <code>rmd_raw_chunk</code>
<a class="anchor" aria-label="anchor" href="#raw-output-chunks---rmd_raw_chunk"></a>
</h4>
<p>The <code>rmd_raw_chunk</code> node represents raw output chunks for specific formats.</p>
<p><strong>Properties:</strong></p>
<ul>
<li>
<code>format</code>: The output format (e.g., “html”, “latex”)</li>
<li>
<code>code</code>: Character vector containing the raw content</li>
<li>
<code>indent</code>: Indentation string</li>
<li>
<code>n_ticks</code>: Number of backticks used</li>
</ul>
<p><strong>Example:</strong></p>
<p>Raw text that would be parsed:</p>
<div class="sourceCode" id="cb16"><pre class="sourceCode markdown"><code class="sourceCode markdown"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a><span class="in">```{=html}</span></span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a><span class="in">&lt;div class='custom'&gt;</span></span>
<span id="cb16-3"><a href="#cb16-3" aria-hidden="true" tabindex="-1"></a><span class="in">  &lt;p&gt;Custom HTML content&lt;/p&gt;</span></span>
<span id="cb16-4"><a href="#cb16-4" aria-hidden="true" tabindex="-1"></a><span class="in">&lt;/div&gt;</span></span>
<span id="cb16-5"><a href="#cb16-5" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span></code></pre></div>
<p>Programmatic creation:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb17"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">raw_chunk_node</span> <span class="op">=</span> <span class="fu"><a href="../reference/rmd_raw_chunk.html">rmd_raw_chunk</a></span><span class="op">(</span></span>
<span>  format <span class="op">=</span> <span class="st">"html"</span>,</span>
<span>  code <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span></span>
<span>    <span class="st">"&lt;div class='custom'&gt;"</span>, </span>
<span>    <span class="st">"  &lt;p&gt;Custom HTML content&lt;/p&gt;"</span>, </span>
<span>    <span class="st">"&lt;/div&gt;"</span></span>
<span>  <span class="op">)</span></span>
<span><span class="op">)</span></span>
<span><span class="va">raw_chunk_node</span></span>
<span><span class="co">#&gt; &lt;rmd_raw_chunk&gt;</span></span>
<span><span class="co">#&gt;  @ format : chr "html"</span></span>
<span><span class="co">#&gt;  @ code   : chr [1:3] "&lt;div class='custom'&gt;" "  &lt;p&gt;Custom HTML content&lt;/p&gt;" ...</span></span>
<span><span class="co">#&gt;  @ indent : chr ""</span></span>
<span><span class="co">#&gt;  @ n_ticks: int 3</span></span></code></pre></div>
</div>
<hr></section><section class="level3"><h4 id="fenced-code-blocks---rmd_code_block">Fenced Code Blocks - <code>rmd_code_block</code>
<a class="anchor" aria-label="anchor" href="#fenced-code-blocks---rmd_code_block"></a>
</h4>
<p>The <code>rmd_code_block</code> node represents non-executable fenced code blocks.</p>
<p><strong>Properties:</strong></p>
<ul>
<li>
<code>attr</code>: Attributes string (language, classes, etc.)</li>
<li>
<code>code</code>: Character vector containing the code lines</li>
<li>
<code>indent</code>: Indentation string</li>
<li>
<code>n_ticks</code>: Number of backticks used</li>
</ul>
<p><strong>Example:</strong></p>
<p>Raw text that would be parsed:</p>
<div class="sourceCode" id="cb18"><pre class="sourceCode markdown"><code class="sourceCode markdown"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a><span class="in">```python</span></span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> hello():</span>
<span id="cb18-3"><a href="#cb18-3" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="st">'Hello, World!'</span>)</span>
<span id="cb18-4"><a href="#cb18-4" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span></code></pre></div>
<p>Programmatic creation:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb19"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">code_block_node</span> <span class="op">=</span> <span class="fu"><a href="../reference/rmd_code_block.html">rmd_code_block</a></span><span class="op">(</span></span>
<span>  attr <span class="op">=</span> <span class="st">"python"</span>,</span>
<span>  code <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span></span>
<span>    <span class="st">"def hello():"</span>, </span>
<span>    <span class="st">"    print('Hello, World!')"</span></span>
<span>  <span class="op">)</span></span>
<span><span class="op">)</span></span>
<span><span class="va">code_block_node</span></span>
<span><span class="co">#&gt; &lt;rmd_code_block&gt;</span></span>
<span><span class="co">#&gt;  @ attr   : chr "python"</span></span>
<span><span class="co">#&gt;  @ code   : chr [1:2] "def hello():" "    print('Hello, World!')"</span></span>
<span><span class="co">#&gt;  @ indent : chr ""</span></span>
<span><span class="co">#&gt;  @ n_ticks: int 3</span></span></code></pre></div>
</div>
<hr></section></section><section class="level2"><h3 id="inline-elements">Inline Elements<a class="anchor" aria-label="anchor" href="#inline-elements"></a>
</h3>
<section class="level3"><h4 id="inline-code---rmd_inline_code">Inline Code - <code>rmd_inline_code</code>
<a class="anchor" aria-label="anchor" href="#inline-code---rmd_inline_code"></a>
</h4>
<p>The <code>rmd_inline_code</code> node represents inline code expressions.</p>
<p><strong>Properties:</strong></p>
<ul>
<li>
<code>engine</code>: The code engine (empty string for static code)</li>
<li>
<code>code</code>: The inline code content</li>
<li>
<code>braced</code>: Whether the code uses braced syntax</li>
<li>
<code>start</code>: Starting position in the source</li>
<li>
<code>length</code>: Length of the inline code</li>
</ul>
<p><strong>Example:</strong></p>
<p>Raw text that would be parsed:</p>
<div class="sourceCode" id="cb20"><pre class="sourceCode markdown"><code class="sourceCode markdown"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a>The result is 4.</span></code></pre></div>
<p>Programmatic creation:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb21"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">inline_code_node</span> <span class="op">=</span> <span class="fu"><a href="../reference/rmd_inline_code.html">rmd_inline_code</a></span><span class="op">(</span></span>
<span>  engine <span class="op">=</span> <span class="st">"r"</span>,</span>
<span>  code <span class="op">=</span> <span class="st">"2 + 2"</span>,</span>
<span>  braced <span class="op">=</span> <span class="cn">FALSE</span></span>
<span><span class="op">)</span></span>
<span><span class="va">inline_code_node</span></span>
<span><span class="co">#&gt;  rmd_inline_code[-1,-1] `r 2 + 2`</span></span></code></pre></div>
</div>
<hr></section><section class="level3"><h4 id="shortcode-function-calls---rmd_shortcode">Shortcode Function Calls - <code>rmd_shortcode</code>
<a class="anchor" aria-label="anchor" href="#shortcode-function-calls---rmd_shortcode"></a>
</h4>
<p>The <code>rmd_shortcode</code> node represents shortcode function calls (Quarto feature).</p>
<p><strong>Properties:</strong></p>
<ul>
<li>
<code>func</code>: The shortcode function name</li>
<li>
<code>args</code>: Character vector of arguments</li>
<li>
<code>start</code>: Starting position in the source</li>
<li>
<code>length</code>: Length of the shortcode</li>
</ul>
<p><strong>Example:</strong></p>
<p>Raw text that would be parsed:</p>
<div class="sourceCode" id="cb22"><pre class="sourceCode markdown"><code class="sourceCode markdown"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a>{{&lt; embed type=video src=example.mp4 &gt;}}</span></code></pre></div>
<p>Programmatic creation:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb23"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">shortcode_node</span> <span class="op">=</span> <span class="fu"><a href="../reference/rmd_shortcode.html">rmd_shortcode</a></span><span class="op">(</span></span>
<span>  func <span class="op">=</span> <span class="st">"embed"</span>,</span>
<span>  args <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span></span>
<span>    <span class="st">"type=video"</span>, </span>
<span>    <span class="st">"src=example.mp4"</span></span>
<span>  <span class="op">)</span></span>
<span><span class="op">)</span></span>
<span><span class="va">shortcode_node</span></span>
<span><span class="co">#&gt;  rmd_shortcode[-1,-1] {{&lt; embed type=video src=example.mp4 &gt;}}</span></span></code></pre></div>
</div>
<hr></section></section><section class="level2"><h3 id="structural-elements">Structural Elements<a class="anchor" aria-label="anchor" href="#structural-elements"></a>
</h3>
<section class="level3"><h4 id="fenced-divs---rmd_fenced_div_open-rmd_fenced_div_close">Fenced Divs - <code>rmd_fenced_div_open</code> &amp; <code>rmd_fenced_div_close</code>
<a class="anchor" aria-label="anchor" href="#fenced-divs---rmd_fenced_div_open-rmd_fenced_div_close"></a>
</h4>
<p>Fenced divs are represented as pairs of nodes in the linear AST sequence. The <code>rmd_fenced_div_open</code> node marks the beginning of a fenced div block, and the <code>rmd_fenced_div_close</code> node marks the end. Any content between these nodes is considered to be inside the fenced div.</p>
<p><strong>rmd_fenced_div_open Properties:</strong></p>
<ul>
<li>
<code>attr</code>: Character vector of div attributes</li>
</ul>
<p><strong>rmd_fenced_div_close Properties:</strong> None (just a marker)</p>
<p><strong>Example:</strong></p>
<p>Raw text that would be parsed:</p>
<div class="sourceCode" id="cb24"><pre class="sourceCode markdown"><code class="sourceCode markdown"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a>::: {.warning #important}</span>
<span id="cb24-2"><a href="#cb24-2" aria-hidden="true" tabindex="-1"></a>This content is inside the fenced div.</span>
<span id="cb24-3"><a href="#cb24-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-4"><a href="#cb24-4" aria-hidden="true" tabindex="-1"></a>More content here.</span>
<span id="cb24-5"><a href="#cb24-5" aria-hidden="true" tabindex="-1"></a>:::</span></code></pre></div>
<p>This would create a sequence of nodes: 1. <code>rmd_fenced_div_open</code> with attributes 2. <code>rmd_markdown</code> with “This content is inside the fenced div.” 3. <code>rmd_markdown</code> with “More content here.” 4. <code>rmd_fenced_div_close</code></p>
<p>Programmatic creation:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb25"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Create the opening node</span></span>
<span><span class="va">fenced_div_open_node</span> <span class="op">=</span> <span class="fu"><a href="../reference/rmd_fenced_div_open.html">rmd_fenced_div_open</a></span><span class="op">(</span></span>
<span>  attr <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"class=warning"</span>, <span class="st">"id=important"</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Create the closing node</span></span>
<span><span class="va">fenced_div_close_node</span> <span class="op">=</span> <span class="fu"><a href="../reference/rmd_fenced_div_close.html">rmd_fenced_div_close</a></span><span class="op">(</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># These would typically be combined with content nodes in an rmd_ast</span></span>
<span><span class="va">ast_with_div</span> <span class="op">=</span> <span class="fu"><a href="../reference/rmd_ast.html">rmd_ast</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>  <span class="va">fenced_div_open_node</span>,</span>
<span>  <span class="fu"><a href="../reference/rmd_markdown.html">rmd_markdown</a></span><span class="op">(</span></span>
<span>    lines <span class="op">=</span> <span class="st">"This content is inside the fenced div."</span></span>
<span>  <span class="op">)</span>,</span>
<span>  <span class="fu"><a href="../reference/rmd_markdown.html">rmd_markdown</a></span><span class="op">(</span></span>
<span>    lines <span class="op">=</span> <span class="st">"More content here."</span></span>
<span>  <span class="op">)</span>,</span>
<span>  <span class="va">fenced_div_close_node</span></span>
<span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
</div>
<hr></section></section></section><script id="quarto-html-after-body" type="application/javascript">
  window.document.addEventListener("DOMContentLoaded", function (event) {
      var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var mailtoRegex = new RegExp(/^mailto:/);
        var filterRegex = new RegExp('/' + window.location.host + '/');
      var isInternal = (href) => {
          return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
      }
      // Inspect non-navigation links and adorn them if external
     var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
      for (var i=0; i<links.length; i++) {
        const link = links[i];
        if (!isInternal(link.href)) {
          // undo the damage that might have been done by quarto-nav.js in the case of
          // links that we want to consider external
          if (link.dataset.originalHref !== undefined) {
            link.href = link.dataset.originalHref;
          }
        }
      }
    function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
      const config = {
        allowHTML: true,
        maxWidth: 500,
        delay: 100,
        arrow: false,
        appendTo: function(el) {
            return el.parentElement;
        },
        interactive: true,
        interactiveBorder: 10,
        theme: 'light-border',
        placement: 'bottom-start',
      };
      if (contentFn) {
        config.content = contentFn;
      }
      if (onTriggerFn) {
        config.onTrigger = onTriggerFn;
      }
      if (onUntriggerFn) {
        config.onUntrigger = onUntriggerFn;
      }
      window.tippy(el, config);
    }
    const findCites = (el) => {
      const parentEl = el.parentElement;
      if (parentEl) {
        const cites = parentEl.dataset.cites;
        if (cites) {
          return {
            el,
            cites: cites.split(' ')
          };
        } else {
          return findCites(el.parentElement)
        }
      } else {
        return undefined;
      }
    };
    var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
    for (var i=0; i<bibliorefs.length; i++) {
      const ref = bibliorefs[i];
      const citeInfo = findCites(ref);
      if (citeInfo) {
        tippyHover(citeInfo.el, function() {
          var popup = window.document.createElement('div');
          citeInfo.cites.forEach(function(cite) {
            var citeDiv = window.document.createElement('div');
            citeDiv.classList.add('hanging-indent');
            citeDiv.classList.add('csl-entry');
            var biblioDiv = window.document.getElementById('ref-' + cite);
            if (biblioDiv) {
              citeDiv.innerHTML = biblioDiv.innerHTML;
            }
            popup.appendChild(citeDiv);
          });
          return popup.innerHTML;
        });
      }
    }
  });
  </script></main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Colin Rundel.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

    </footer>
</div>





  </body>
</html>
